<!DOCTYPE html>
<html>
    <head>
        <title>CDD Authoring Tool</title>
        <link rel="stylesheet" type="text/css" href="./style.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    </head>
    <body>

        <h2 class="title-header">OpenDI CDD Authoring Tool (Prototype)</h2>

        <div class="cdd-editor">
            <div id="jointjspaper" class="cdd-editor left"><!-- This is used by index.js to attach the JointJS Paper object, for displaying CDDs. --></div>
            <div id="jsoneditor" class="cdd-editor right"><!-- This is used by index.js to attach the JSON Editor object. --></div>
        </div>

        <div class="model-controls">
            <h3 class="model-controls-header">Controls</h2>
            Select a Model: <select name="models" id="models-select"></select> <button id="load-model">Load Model</button> <button id="delete-model">Delete Model</button>
            <br> <br>
            <button id="new-model">New Model</button> <button id="save-model">Save Model</button>
            <br> <br>
        </div>

        <div class="instructions">
            <p>
                This tool allows you to create and edit OpenDI standards-compliant
                Causal Decision Diagrams, using a graphical view and JSON editor.
                <br>
                For more info about OpenDI, visit <a href="https://opendi.org" target="_blank">OpenDI.org</a>.
            </p>
            <p>
                Coffee purchasing CDD by Dr. Lorien Pratt. See original source on her blog: <a href="https://www.lorienpratt.com/a-framework-for-how-data-informs-decisions/" target="_blank">A Framework for How Data Informs Decisions</a>.
            </p>
            <p>
                <b>This tool is a prototype!</b><br>We cannot yet guarantee that the system
                is bug-free. This tool may crash unexpectedly, and you may lose data.
                <br>
                The tool provides a Download button to save your work as a JSON file.
                Use it often!
            </p>
            <h2>Controls (Graph view)</h2>
            <ul>
                <li><b>Left-click</b>: Select a single decision element.</li>
                <li><b>Left-click (drag)</b>: Move a single decision element.</li>
                <li><b>Right-click</b>: Select multiple decision elements.</li>
            </ul>
            <h2>UI Buttons (Graph view)</h2>
            <ul>
                <li><b>Download</b>: Save the current CDD as a JSON file, to your local file system.</li>
                <li><b>New Elem</b>: Create a new decision element. The new element will be placed on the graph, with placeholder values.</li>
                <li><b>Del Elem</b>: Delete the selected element(s). Removes all associated dependencies as well. Can select and delete multiple elements at once.</li>
                <li><b>Toggle Dep</b>: When 2 or more elements are selected, toggle causal dependency arrows along the selected chain, from first selected to last selected.</li>
            </ul>
            <h2>Controls (JSON Editor)</h2>
            <p>In tree view:
                <ul>
                    <li><b>Double-click a value</b> to edit.</li>
                    <li><b>Right-click</b>: View context menu.</li>
                </ul>
            </p>
            <h2>Load a saved JSON</h2>
            <p>
                To use your own JSON file as a starting point:
                <ol>
                    <li>Delete all contents in the JSON Editor view.</li>
                    <li>Open your JSON file in a local text editor.</li>
                    <li>Copy the entire text contents of your local JSON file.</li>
                    <li>Paste into this tool's JSON view.</li>
                </ol>
            </p>
            <h2>Source</h2>
            <p>
                You can view and contribute to this project's source code on <a href="https://github.com/opendi-org/cdd-authoring-tool" target="_blank">GitHub</a>.
            </p>
            <br><br>
            <hr>
            <h2>Acknowledgements</h2>
            <ul>
                <li>Graphical view uses <a href="https://www.jointjs.com/" target="_blank">JointJS</a> diagramming library.</li>
                <li>JSON Editor view uses <a href="https://github.com/josdejong/svelte-jsoneditor" target="_blank">svelte-jsoneditor</a>. See copyright notice in this project's source code.</li>
            </ul>
        </div>

        
        <!-- Must reference the file that will be output by Webpack here. See webpack.config.js -- output filename in module.exports object -->
        <script src="bundled_app.js"></script>
    </body>
</html>